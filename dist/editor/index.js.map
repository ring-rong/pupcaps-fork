{"version":3,"file":"index.js","sources":["../../node_modules/file-saver/dist/FileSaver.min.js","../../src/editor/components/srt-file-picker.component.vue","../../src/editor/file-loader.ts","../../src/common/timecodes.ts","../../src/common/captions.ts","../../src/editor/captions.service.ts","../../src/editor/components/indexes.component.vue","../../src/editor/components/words.component.vue","../../src/editor/components/cue.component.vue","../../src/editor/components/subtitles-table.component.vue","../../src/editor/components/application.component.vue","../../src/editor/index.ts"],"sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","<script setup lang=\"ts\">\nimport {ref} from 'vue';\n\nconst emit = defineEmits<{\n  (event: 'file-selected', value: File): void;\n}>();\n\nconst selectedFile = ref<File>();\n\nfunction onFileSelected(event: Event) {\n  const file = (event.target as HTMLInputElement).files?.[0];\n  if (file) {\n    selectedFile.value = file;\n    emit('file-selected', file);\n  }\n}\n</script>\n\n<template>\n  <div class=\"file has-name\">\n    <label class=\"file-label\">\n      <input name=\"srt_file\"\n             class=\"file-input\"\n             type=\"file\"\n             accept=\".srt\"\n             @change=\"onFileSelected\" />\n\n      <span class=\"file-cta\">\n        <span class=\"file-icon\">\n          <i class=\"fa fa-upload\"></i>\n        </span>\n        <span class=\"file-label\">Pick subs file</span>\n      </span>\n      <span class=\"file-name is-fullwidth\">{{ selectedFile?.name }}</span>\n    </label>\n  </div>\n</template>","export async function loadFile(file: File): Promise<string> {\n    const reader = new FileReader();\n\n    return new Promise((resolve, reject) => {\n        reader.onload = (loadEvent) => {\n            resolve(loadEvent.target?.result as string);\n        };\n\n        reader.onerror = (err) => {\n            reject(err);\n        };\n\n        reader.readAsText(file);\n    });\n}","export class Timecode {\n    public readonly hours: number;\n    public readonly minutes: number;\n    public readonly seconds: number;\n    public readonly millis: number;\n\n    constructor(millis: number) {\n        this.millis = millis % 1000;\n\n        this.hours = Math.floor(millis / 3_600_000);\n        const remainingMillisAfterHours = millis % 3_600_000;\n        this.minutes = Math.floor(remainingMillisAfterHours / 60_000);\n        const remainingMillisAfterMinutes = remainingMillisAfterHours % 60_000;\n        this.seconds = Math.floor(remainingMillisAfterMinutes / 1000);\n    }\n\n    public get hh(): string {\n        return String(this.hours).padStart(2, '0');\n    }\n\n    public get mm(): string {\n        return String(this.minutes).padStart(2, '0');\n    }\n\n    public get ss(): string {\n        return String(this.seconds).padStart(2, '0');\n    }\n    public get SSS(): string {\n        return String(this.millis).padStart(3, '0');\n    }\n\n    public get asString(): string {\n        return `${this.hh}:${this.mm}:${this.ss},${this.SSS}`;\n    }\n}\n\nexport function toMillis(timecodes: string | null): number {\n    if (!timecodes) {\n        throw new Error('Timecode is null or undefined');\n    }\n    \n    const parts = timecodes.split(/[:,]/).map(Number);\n\n    if (parts.length !== 4) {\n        throw new Error(`Invalid timecode format: ${timecodes}. Expected format: HH:MM:SS,mmm`);\n    }\n\n    const hours = parts[0];\n    const minutes = parts[1];\n    const seconds = parts[2];\n    const milliseconds = parts[3];\n\n    if (isNaN(hours) || isNaN(minutes) || isNaN(seconds) || isNaN(milliseconds)) {\n        throw new Error(`Invalid timecode values: ${timecodes}. All parts must be numbers.`);\n    }\n\n    return hours * 3_600_000    // hours to millis\n        + minutes * 60_000      // minutes to millis\n        + seconds * 1000        // second to millis\n        + milliseconds;\n}","import {toMillis} from './timecodes';\n\nconst indexLinePattern = /^\\d+$/;\nconst timecodesLinePattern = /^(\\d{2}:\\d{2}:\\d{2},\\d{3}) --> (\\d{2}:\\d{2}:\\d{2},\\d{3})$/;\nconst highlightedWordPattern = /^\\[(.+)](?:\\((\\w+)\\))?$/;\n\nexport interface Word {\n    rawWord: string;\n    isHighlighted: boolean;\n    isBeforeHighlighted: boolean;\n    isAfterHighlighted: boolean;\n    highlightClass?: string;\n}\n\nexport interface Caption {\n    index: number;\n    startTimeMs: number;\n    endTimeMs: number;\n    words: Word[];\n}\n\n/**\n * Groups captions with same words into groups.\n * @param captions captions\n * @returns groups of captions with same words\n */\nexport function captionGroups(captions: Caption[]): Caption[][] {\n    const groups: Caption[][] = [];\n    let lastCaption: Caption | null = null;\n    let lastGroup: Caption[] = [];\n\n    for (const caption of captions) {\n        if (lastCaption && !haveSameWords(caption, lastCaption!)) {\n            groups.push(lastGroup);\n            lastGroup = [];\n        }\n\n        lastGroup.push(caption);\n        lastCaption = caption;\n    }\n\n    if (lastGroup.length) {\n        groups.push(lastGroup);\n    }\n\n    return groups;\n}\n\nexport function haveSameWords(caption1: Caption, caption2: Caption): boolean {\n    if (caption1.words.length != caption2.words.length) {\n        return false;\n    }\n\n    for (let i =0; i < caption1.words.length; i++) {\n        if (caption1.words[i].rawWord != caption2.words[i].rawWord) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nexport function readCaptions(srtContent: string): Caption[] {\n    const lines = srtContent.split('\\n').map(line => line.trim());\n    const captions: Caption[] = [];\n\n    let index: number = 0;\n    let timecodesStart: string | null = null;\n    let timecodesEnd: string | null = null;\n    let captionText: string[] = [];\n\n    for (let i = 0; i < lines.length; i++) {\n        const line = lines[i];\n        let match;\n        \n        // Skip empty lines\n        if (line.length === 0) {\n            // If we have accumulated caption text, process it\n            if (captionText.length > 0 && timecodesStart && timecodesEnd) {\n                try {\n                    const start = toMillis(timecodesStart);\n                    const end = toMillis(timecodesEnd);\n                    const fullText = captionText.join(' ');\n                    const words = readWords(fullText);\n\n                    captions.push({\n                        index,\n                        words,\n                        startTimeMs: start,\n                        endTimeMs: end,\n                    });\n                } catch (error) {\n                    console.error(`Error parsing timecodes for caption ${index}: ${error instanceof Error ? error.message : String(error)}`);\n                    console.warn(`Skipping caption. Start: \"${timecodesStart}\", End: \"${timecodesEnd}\", Text: \"${captionText.join(' ')}\"`);\n                }\n                \n                // Reset for next caption\n                captionText = [];\n                timecodesStart = null;\n                timecodesEnd = null;\n            }\n            continue;\n        }\n        \n        if ((match = line.match(indexLinePattern))) {\n            // New caption index\n            index = Number(line);\n        } else if ((match = line.match(timecodesLinePattern))) {\n            // Timecodes line\n            timecodesStart = match[1];\n            timecodesEnd = match[2];\n        } else {\n            // This should be caption text\n            if (!timecodesStart || !timecodesEnd) {\n                console.warn(`Skipping caption at index ${index}: Missing timecodes. Line: \"${line}\"`);\n                continue;\n            }\n            captionText.push(line);\n        }\n    }\n    \n    // Handle last caption if file doesn't end with empty line\n    if (captionText.length > 0 && timecodesStart && timecodesEnd) {\n        try {\n            const start = toMillis(timecodesStart);\n            const end = toMillis(timecodesEnd);\n            const fullText = captionText.join(' ');\n            const words = readWords(fullText);\n\n            captions.push({\n                index,\n                words,\n                startTimeMs: start,\n                endTimeMs: end,\n            });\n        } catch (error) {\n            console.error(`Error parsing timecodes for caption ${index}: ${error instanceof Error ? error.message : String(error)}`);\n            console.warn(`Skipping caption. Start: \"${timecodesStart}\", End: \"${timecodesEnd}\", Text: \"${captionText.join(' ')}\"`);\n        }\n    }\n\n    return captions;\n}\n\nexport function readWords(text: string): Word[] {\n    const words = splitText(text);\n    const highlightedIndex = words.findIndex(word => word.match(highlightedWordPattern));\n\n    const res: Word[] = [];\n\n    for (let i = 0; i < words.length; i++) {\n        const word = words[i];\n        const match = word.match(highlightedWordPattern);\n        const rawWord = match ? match[1] : word;\n        const highlightClass = match && match[2] ? match[2] : null;\n\n        const isHighlighted = Boolean(match);\n        const isBeforeHighlighted = Boolean(~highlightedIndex && !isHighlighted && i < highlightedIndex);\n        const isAfterHighlighted = Boolean(~highlightedIndex && !isHighlighted && i > highlightedIndex);\n\n        const wordObject: Word = {\n            rawWord,\n            isHighlighted,\n            isBeforeHighlighted,\n            isAfterHighlighted,\n        };\n\n        if (highlightClass) {\n            wordObject.highlightClass = highlightClass;\n        }\n\n        res.push(wordObject);\n    }\n\n    return res;\n}\n\nexport function splitText(text: string): string[] {\n    const words: string[] = [];\n\n    let currentWord = '';\n    let isCurrentHighlighted = false;\n\n    for (let i = 0; i < text.length; i++) {\n        const char = text[i];\n        const isWhitespace = /^\\s$/.test(char);\n        const isPunctuation = /[,.!?]/.test(char);\n\n        if (!isWhitespace) {\n            if (!isPunctuation) {\n                currentWord += char;\n                switch (char) {\n                    case '[':\n                    case '(':\n                        isCurrentHighlighted = true;\n                        break;\n                    case ']':\n                    case ')':\n                        isCurrentHighlighted = false;\n                        break;\n                }\n            } else {\n                if (currentWord) {\n                    currentWord += char;\n                } else {\n                    // Attach punctuation mark to the previous word\n                    words[words.length - 1] += ' ' + char;\n                }\n            }\n        } else {\n            // char is a whitespace\n            if (isCurrentHighlighted) {\n                currentWord += char;\n            } else if (currentWord) {\n                words.push(currentWord);\n                currentWord = '';\n            }\n        }\n    }\n\n    if (currentWord) {\n        words.push(currentWord);\n    }\n\n    return words;\n}","import {Caption, haveSameWords} from '../common/captions';\nimport {Timecode} from '../common/timecodes';\n\nexport interface KaraokeWord {\n    rawWord: string;\n    startTimeMs: number;\n    endTimeMs: number;\n}\n\nexport class KaraokeGroup {\n    constructor(public indexStart: number,\n                public indexEnd: number,\n                public readonly words: KaraokeWord[]) {\n    }\n\n    static fromCaptions(captions: Caption[]): KaraokeGroup {\n        const indexStart = captions[0].index;\n        const indexEnd = captions[captions.length - 1].index;\n        const words: KaraokeWord[] = captions\n            .map(caption => {\n                const highlightedWord = caption.words.filter(word => word.isHighlighted)[0].rawWord;\n\n                return {\n                    rawWord: highlightedWord,\n                    startTimeMs: caption.startTimeMs,\n                    endTimeMs: caption.endTimeMs,\n                };\n            })\n\n        return new KaraokeGroup(indexStart, indexEnd, words);\n    }\n\n    public addAtBeginning(word: KaraokeWord) {\n        this.indexStart--;\n        this.words.unshift(word);\n    }\n\n    public removeFromBeginning(): KaraokeWord {\n        this.indexStart++;\n        return this.words.splice(0, 1)[0];\n    }\n\n    public addAtEnd(word: KaraokeWord) {\n        this.indexEnd++;\n        this.words.push(word);\n    }\n\n    public removeFromEnd(): KaraokeWord {\n        this.indexEnd--;\n        return this.words.pop()!;\n    }\n\n    public shiftIndices(shift: number) {\n        this.indexStart += shift;\n        this.indexEnd += shift;\n    }\n\n    public get id() {\n        return `${this.indexStart}-${this.indexEnd}`;\n    }\n\n    public get startTimeMs(): number {\n        return this.words[0].startTimeMs;\n    }\n\n    public get endTimeMs(): number {\n        return this.words[this.words.length - 1].endTimeMs;\n    }\n\n    public get isEmpty(): boolean {\n        return this.words.length === 0;\n    }\n}\n\nexport class CaptionsService {\n    private groups: KaraokeGroup[] = [];\n\n    public readCaptions(captions: Caption[]) {\n        this.groups = [];\n\n        let lastCaption: Caption | null = null;\n        let lastGroup = [];\n\n        for (const caption of captions) {\n            if (lastCaption && !haveSameWords(caption, lastCaption!)) {\n                const karaokeGroup = KaraokeGroup.fromCaptions(lastGroup);\n                this.groups.push(karaokeGroup);\n                lastGroup = [];\n            }\n\n            lastGroup.push(caption);\n            lastCaption = caption;\n        }\n\n        if (lastGroup.length) {\n            const karaokeGroup = KaraokeGroup.fromCaptions(lastGroup);\n            this.groups.push(karaokeGroup);\n        }\n\n        console.dir(this.groups, {depth: null});\n    }\n\n    public moveFirstWordToPrecedentGroup(groupId: number) {\n        const karaokeGroup = this.groups[groupId];\n        const firstWord = karaokeGroup.removeFromBeginning();\n\n        if (groupId > 0) {\n            this.groups[groupId - 1].addAtEnd(firstWord);\n        } else {\n            const index = karaokeGroup.indexStart - 1;\n            const newKaraokeGroup = new KaraokeGroup(index, index, [ firstWord ]);\n            this.groups.unshift(newKaraokeGroup);\n        }\n\n        if (karaokeGroup.isEmpty) {\n            this.groups.splice(groupId, 1);\n        }\n    }\n\n    public moveLastWordToNextGroup(groupId: number) {\n        const karaokeGroup = this.groups[groupId];\n        const lastWord = karaokeGroup.removeFromEnd();\n\n        if (groupId < this.groups.length - 1) {\n            this.groups[groupId + 1].addAtBeginning(lastWord);\n        } else {\n            const index = karaokeGroup.indexEnd + 1;\n            const newKaraokeGroup = new KaraokeGroup(index, index, [ lastWord ]);\n            this.groups.push(newKaraokeGroup);\n        }\n\n        if (karaokeGroup.isEmpty) {\n            this.groups.splice(groupId, 1);\n        }\n    }\n\n    public deleteKaraokeGroup(karaokeGroupId: string) {\n        const groups: KaraokeGroup[] = [];\n        let shift = 0;\n\n        for (const group of this.groups) {\n            if (group.id === karaokeGroupId) {\n                shift = group.indexStart - group.indexEnd - 1;\n            } else {\n                if (~shift) {\n                    group.shiftIndices(shift);\n                }\n                groups.push(group);\n            }\n        }\n\n        this.groups = groups;\n    }\n\n    public get karaokeGroups(): KaraokeGroup[] {\n        return [...this.groups];\n    }\n\n    public get asSrt(): string {\n        let srtText = '';\n\n        for (const group of this.groups) {\n            for (let i = 0; i < group.words.length; i++) {\n                const captionIndex = group.indexStart + i;\n                const highlightedWord = group.words[i];\n                const startTimecode = new Timecode(highlightedWord.startTimeMs).asString;\n                const endTimecode = new Timecode(highlightedWord.endTimeMs).asString;\n\n                let captionWords = '';\n\n                for (let j = 0; j < group.words.length; j++) {\n                    const word = group.words[j];\n                    captionWords += j === i\n                        ? `[${word.rawWord}] `\n                        : `${word.rawWord} `;\n                }\n\n                srtText += `${captionIndex}\\n${startTimecode} --> ${endTimecode}\\n${captionWords}\\n\\n`;\n            }\n        }\n\n        return srtText;\n    }\n}","<script setup lang=\"ts\">\nimport {KaraokeGroup} from '../captions.service';\n\nconst props = defineProps<{ karaokeGroup: KaraokeGroup }>();\n\nconst karaokeGroup: KaraokeGroup = props.karaokeGroup;\nconst start = karaokeGroup.indexStart;\nconst end = karaokeGroup.indexEnd;\n</script>\n\n<template>\n  <strong>{{ start }}</strong>\n\n  <template v-if=\"start !== end\">\n    <i class=\"fas fa-arrow-right\"></i>\n    <strong>{{ end }}</strong>\n  </template>\n</template>","<script setup lang=\"ts\">\nimport {KaraokeGroup, KaraokeWord} from '../captions.service';\n\nconst props = defineProps<{ karaokeGroup: KaraokeGroup }>();\ndefineEmits<{\n  (event: 'move-word-to-prec', value: KaraokeWord): void;\n  (event: 'move-word-to-next', value: KaraokeWord): void;\n}>();\n\nconst karaokeGroup: KaraokeGroup = props.karaokeGroup;\n</script>\n\n<template>\n  <span v-for=\"(word, index) in karaokeGroup.words\"\n        class=\"buttons has-addons is-inline-block\">\n    <button v-if=\"karaokeGroup.indexStart > 1 && index === 0\"\n            @click=\"$emit('move-word-to-prec', word as KaraokeWord)\"\n            class=\"button is-small is-rounded is-info\">\n      <span class=\"icon is-small\">\n        <i class=\"fas fa-chevron-left\"></i>\n      </span>\n    </button>\n\n    <button class=\"button is-small is-rounded\">{{ word.rawWord }}</button>\n\n    <button v-if=\"index === karaokeGroup.words.length - 1\"\n            @click=\"$emit('move-word-to-next', word as KaraokeWord)\"\n            class=\"button is-small is-rounded is-info\">\n      <span class=\"icon is-small\">\n        <i class=\"fas fa-chevron-right\"></i>\n      </span>\n    </button>\n  </span>\n</template>","<script setup lang=\"ts\">\nimport Indexes from './indexes.component.vue';\nimport TimecodeComponent from './timecode.component.vue';\nimport {Timecode} from '../../common/timecodes';\nimport Words from './words.component.vue';\nimport {KaraokeGroup, KaraokeWord} from '../captions.service';\n\nconst props = defineProps<{ karaokeGroup: KaraokeGroup }>();\n\ndefineEmits<{\n  (event: 'move-word-to-prec', value: KaraokeWord): void;\n  (event: 'move-word-to-next', value: KaraokeWord): void;\n  (event: 'delete', value: string): void;\n}>();\n\nconst timecodeStart = new Timecode(props.karaokeGroup.startTimeMs);\nconst timecodeEnd = new Timecode(props.karaokeGroup.endTimeMs);\n\nconst hoursChanged = timecodeStart.hours !== timecodeEnd.hours;\nconst minutesChanged = timecodeStart.minutes !== timecodeEnd.minutes;\nconst secondsChanged = timecodeStart.seconds !== timecodeEnd.seconds;\nconst millisChanged = timecodeStart.millis !== timecodeEnd.millis;\n</script>\n\n<template>\n  <tr>\n    <td>\n      <button class=\"button is-small is-danger\"\n              @click=\"$emit('delete', karaokeGroup.id);\">\n        <span class=\"icon is-small\">\n          <i class=\"fas fa-times\"></i>\n        </span>\n      </button>\n    </td>\n    <td>\n      <indexes v-bind=\"{ karaokeGroup: karaokeGroup }\"></indexes>\n    </td>\n    <td>\n      <timecode-component :timecode=\"timecodeStart\"\n                          :hours-changed=\"hoursChanged\"\n                          :minutes-changed=\"minutesChanged\"\n                          :seconds-changed=\"secondsChanged\"\n                          :millis-changed=\"millisChanged\">\n      </timecode-component>\n    </td>\n    <td>\n      <timecode-component :timecode=\"timecodeEnd\"\n                          :hours-changed=\"hoursChanged\"\n                          :minutes-changed=\"minutesChanged\"\n                          :seconds-changed=\"secondsChanged\"\n                          :millis-changed=\"millisChanged\">\n      </timecode-component>\n    </td>\n    <td>\n      <words :karaoke-group=\"props.karaokeGroup as KaraokeGroup\"\n             @move-word-to-prec=\"$emit('move-word-to-prec', $event as KaraokeWord)\"\n             @move-word-to-next=\"$emit('move-word-to-next', $event as KaraokeWord)\">\n      </words>\n    </td>\n  </tr>\n</template>","<script setup lang=\"ts\">\nimport {ref, inject, watch} from 'vue';\nimport Cue from './cue.component.vue';\nimport {CaptionsService, KaraokeGroup} from '../captions.service';\n\nconst props = defineProps<{ karaokeGroups: KaraokeGroup[] }>();\nconst captionService: CaptionsService = inject('captionService')!;\nconst groups = ref<KaraokeGroup[]>(props.karaokeGroups);\n\nwatch(\n    () => props.karaokeGroups,\n    (newValue) => {\n      groups.value = newValue;\n    }\n);\n\nfunction moveFirstWordToPrecedentGroup(groupId: number) {\n  captionService.moveFirstWordToPrecedentGroup(groupId);\n  groups.value = captionService.karaokeGroups;\n}\n\nfunction moveLastWordToNextGroup(groupId: number) {\n  captionService.moveLastWordToNextGroup(groupId);\n  groups.value = captionService.karaokeGroups;\n}\n\nfunction deleteKaraokeGroup(karaokeGroupId: string) {\n  captionService.deleteKaraokeGroup(karaokeGroupId);\n  groups.value = captionService.karaokeGroups;\n}\n</script>\n\n<template>\n  <table class=\"table is-fullwidth is-hoverable\">\n    <thead>\n      <tr class=\"is-link\">\n        <th style=\"width: 3%\"></th>\n        <th class=\"has-text-white\" style=\"width: 5%\">Indexes</th>\n        <th class=\"has-text-white\" style=\"width: 15%\">Start</th>\n        <th class=\"has-text-white\" style=\"width: 15%\">End</th>\n        <th class=\"has-text-white\"> Caption</th>\n      </tr>\n    </thead>\n\n    <tbody>\n      <cue v-for=\"(karaokeGroup, index) in groups\"\n           :key=\"karaokeGroup.id\"\n           :karaoke-group=\"karaokeGroup\"\n           @move-word-to-prec=\"moveFirstWordToPrecedentGroup(index)\"\n           @move-word-to-next=\"moveLastWordToNextGroup(index)\"\n           @delete=\"deleteKaraokeGroup(karaokeGroup.id)\"></cue>\n    </tbody>\n  </table>\n</template>","<script setup lang=\"ts\">\nimport {ref, provide} from 'vue';\nimport {saveAs} from 'file-saver';\nimport SrtFilePicker from './srt-file-picker.component.vue';\nimport {loadFile} from '../file-loader';\nimport {readCaptions} from '../../common/captions';\nimport {CaptionsService, KaraokeGroup} from '../captions.service';\nimport SubtitlesTable from './subtitles-table.component.vue';\n\nconst captionService = new CaptionsService();\nprovide('captionService', captionService);\n\nconst karaokeGroups = ref<KaraokeGroup[]>([]);\nconst downloadEnabled = ref<boolean>(false);\n\nasync function onFileSelected(file: File) {\n  const content = await loadFile(file);\n  const captions = readCaptions(content);\n  captionService.readCaptions(captions);\n  karaokeGroups.value = captionService.karaokeGroups;\n  downloadEnabled.value = true;\n}\n\nfunction downloadSrt() {\n  const blob = new Blob([captionService.asSrt], { type: 'text/plain;charset=utf-8' });\n  saveAs(blob, 'edited.srt');\n}\n</script>\n\n<template>\n  <div class=\"box\">\n    <form>\n      <srt-file-picker @file-selected=\"onFileSelected\">\n      </srt-file-picker>\n\n      <button type=\"button\"\n              class=\"button is-primary\"\n              :disabled=\"!downloadEnabled\"\n              @click=\"downloadSrt\">\n        <span class=\"icon\">\n          <i class=\"fa-solid fa-download\"></i>\n        </span>\n        <span>Download</span>\n      </button>\n    </form>\n  </div>\n\n  <subtitles-table :karaoke-groups=\"karaokeGroups\"></subtitles-table>\n</template>","import {createApp} from 'vue';\nimport Application from './components/application.component.vue';\n\ncreateApp({})\n    .component('application', Application)\n    .mount('#app');"],"names":["this","global","ref","inject","watch","provide","saveAs","createApp","Application"],"mappings":"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","x_google_ignoreList":[0]}